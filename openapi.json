{
  "openapi": "3.0.3",
  "info": {
    "title": "Razin - Car Management Dashboard API 1.6",
    "description": "Welcome to the Binar Car Rental - Car Management Dashboard . This dashboard is designed to provide a comprehensive solution for managing car rentals efficiently. It offers a user-friendly interface for administrators to manage cars, users, and rental orders seamlessly.\n\nSome useful links:\n- [GitHub Repository](https://github.com/RazinSyakib43/Car-Management-Dashboard/tree/Challenge_6)\n- [ERD](https://dbdiagram.io/d/Razin-Car-Management-Dashboard-API-666aa385a179551be6c66564)",
    "contact": {
      "email": "muhammadrazin@gmail.com"
    },
    "version": "1.6.11"
  },
  "servers": [
    {
      "url": "http://localhost:3000/api/v1/dashboard/"
    }
  ],
  "tags": [
    {
      "name": "Auth (Login)",
      "description": "Endpoints related to User Authentication (Login) for member, admin, and superadmin"
    },
    {
      "name": "Auth (Register)",
      "description": "Endpoints related to User Authentication (Register) to register a new member and admin"
    },
    {
      "name": "Cars",
      "description": "Endpoints related to car management"
    },
    {
      "name": "Users",
      "description": "Endpoints related to user management"
    }
  ],
  "paths": {
    "/auth/login/superadmin": {
      "post": {
        "tags": [
          "Auth (Login)"
        ],
        "summary": "Login Superadmin",
        "description": "This is the login endpoint for superadmin to access the superadmin dashboard",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "example": "ayano@gmail.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "iamayano"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success - Login as Superadmin successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Successfully login as superadmin! Welcome, Ayanokoji Kiyotaka!"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "token": {
                          "type": "string",
                          "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im5hcnV0b0BnbWFpbC5jb20iLCJpYXQiOjE3MTgzNjA5NjUsImV4cCI6MTcxODQ0NzM2NX0.tLawICmoS0oAO7DFL0yo9efvhOJsWpX5S4jdla1yNvo"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Fail - Password is incorrect",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "status": {
                      "type": "string",
                      "example": "fail"
                    },
                    "message": {
                      "type": "string",
                      "example": "Password is incorrect"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden Access",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "status": {
                      "type": "string",
                      "example": "Forbidden"
                    },
                    "message": {
                      "type": "string",
                      "example": "You are not a superadmin"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/login/admin": {
      "post": {
        "tags": [
          "Auth (Login)"
        ],
        "summary": "Login Admin",
        "description": "This is the login endpoint for admin to access the admin dashboard",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "example": "naruto@gmail.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "iamnaruto"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success - Login as Admin successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Successfully login as admin! Welcome, Naruto!"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "token": {
                          "type": "string",
                          "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im5hcnV0b0BnbWFpbC5jb20iLCJpYXQiOjE3MTgzNjA5NjUsImV4cCI6MTcxODQ0NzM2NX0.tLawICmoS0oAO7DFL0yo9efvhOJsWpX5S4jdla1yNvo"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Fail - Password is incorrect",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "status": {
                      "type": "string",
                      "example": "fail"
                    },
                    "message": {
                      "type": "string",
                      "example": "Password is incorrect"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden Access",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "status": {
                      "type": "string",
                      "example": "Forbidden"
                    },
                    "message": {
                      "type": "string",
                      "example": "You are not an admin"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/login/member": {
      "post": {
        "tags": [
          "Auth (Login)"
        ],
        "summary": "Login Member",
        "description": "This is the login endpoint for member to get access to the dashboard",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "example": "razin@gmail.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "iamrazin"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success - Login as Member successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "Successfully login as member! Welcome, Razin!"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "token": {
                          "type": "string",
                          "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im5hcnV0b0BnbWFpbC5jb20iLCJpYXQiOjE3MTgzNjA5NjUsImV4cCI6MTcxODQ0NzM2NX0.tLawICmoS0oAO7DFL0yo9efvhOJsWpX5S4jdla1yNvo"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Fail - Password is incorrect",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "status": {
                      "type": "string",
                      "example": "fail"
                    },
                    "message": {
                      "type": "string",
                      "example": "Password is incorrect"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden Access",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "status": {
                      "type": "string",
                      "example": "Forbidden"
                    },
                    "message": {
                      "type": "string",
                      "example": "You are not a member"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/register/admin": {
      "post": {
        "tags": [
          "Auth (Register)"
        ],
        "summary": "Register Admin",
        "security": [
          {
            "auth": []
          }
        ],
        "description": "This endpoint is used to register a new admin. Only superadmins are authorized to access this endpoint.",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Sebastian Vettel"
                  },
                  "email": {
                    "type": "string",
                    "example": "vettel@gmail.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "iamvettel"
                  },
                  "avatar": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created - Admin created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 201
                    },
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "User (Admin) created successfully"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 15
                        },
                        "name": {
                          "type": "string",
                          "example": "Sebastian Vettel"
                        },
                        "email": {
                          "type": "string",
                          "example": "vettel@gmail.com"
                        },
                        "avatar": {
                          "type": "string",
                          "example": "http://res.cloudinary.com/dowiubuw3/image/upload/v1718371585/zwrjqdcx5q9cj8nm536v.jpg"
                        },
                        "role": {
                          "type": "string",
                          "example": "admin"
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2024-06-14T13:26:25.636Z"
                        },
                        "created_by": {
                          "type": "string",
                          "example": "superadmin - Ayanokoji Kiyotaka"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2024-06-14T13:26:25.636Z"
                        },
                        "updated_by": {
                          "type": "string",
                          "example": "superadmin - Ayanokoji Kiyotaka"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Fail - Email already exists",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "status": {
                      "type": "string",
                      "example": "fail"
                    },
                    "message": {
                      "type": "string",
                      "example": "This email is already taken"
                    }
                  }
                }
              }
            }
          },
          "400 (2)": {
            "description": "Fail - Not provide a name, email, and or password",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "status": {
                      "type": "string",
                      "example": "fail"
                    },
                    "message": {
                      "type": "string",
                      "example": "Please provide name"
                    }
                  }
                }
              }
            }
          },
          "400 (3)": {
            "description": "Fail - Not provide an avatar",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "status": {
                      "type": "string",
                      "example": "fail"
                    },
                    "message": {
                      "type": "string",
                      "example": "No image file uploaded"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "status": {
                      "type": "string",
                      "example": "Unauthorized"
                    },
                    "message": {
                      "type": "string",
                      "example": "Please login first or register if you don't have an account"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden Access",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "status": {
                      "type": "string",
                      "example": "Forbidden"
                    },
                    "message": {
                      "type": "string",
                      "example": "You are not a superadmin"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/register/member": {
      "post": {
        "tags": [
          "Auth (Register)"
        ],
        "summary": "Register Admin",
        "description": "This endpoint is used to register a new member.",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Mitsuha Miyamizu"
                  },
                  "email": {
                    "type": "string",
                    "example": "mitsuha@gmail.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "iammitsuha"
                  },
                  "avatar": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created - Member created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 201
                    },
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "message": {
                      "type": "string",
                      "example": "User (Member) created successfully"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 15
                        },
                        "name": {
                          "type": "string",
                          "example": "Mitsuha Miyamizu"
                        },
                        "email": {
                          "type": "string",
                          "example": "mitsuha@gmail.com"
                        },
                        "avatar": {
                          "type": "string",
                          "example": "http://res.cloudinary.com/dowiubuw3/image/upload/v1719425557/mr16viuotnwfavwr1bpu.gif"
                        },
                        "role": {
                          "type": "string",
                          "example": "member"
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2024-06-14T13:26:25.636Z"
                        },
                        "created_by": {
                          "type": "string",
                          "example": "member - Mitsuha Miyamizu"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2024-06-14T13:26:25.636Z"
                        },
                        "updated_by": {
                          "type": "string",
                          "example": "member - Mitsuha Miyamizu"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Fail - Email already exists",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "status": {
                      "type": "string",
                      "example": "fail"
                    },
                    "message": {
                      "type": "string",
                      "example": "This email is already taken"
                    }
                  }
                }
              }
            }
          },
          "400 (2)": {
            "description": "Fail - Not provide a name, email, and or password",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "status": {
                      "type": "string",
                      "example": "fail"
                    },
                    "message": {
                      "type": "string",
                      "example": "Please provide name"
                    }
                  }
                }
              }
            }
          },
          "400 (3)": {
            "description": "Fail - Not provide an avatar",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "status": {
                      "type": "string",
                      "example": "fail"
                    },
                    "message": {
                      "type": "string",
                      "example": "No image file uploaded"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "auth": {
        "type": "http",
        "scheme": "bearer",
        "bearer": {
          "format": "JWT"
        }
      }
    }
  }
}